[buildout]
parts =
		eggs
		process-bounce-queues-assoc-cron
		process-bounce-queues-prod-cron
		update-webinars-prod-cron

extensions = mr.developer
mr.developer-threads = 35
sources-dir = sources
always-checkout = true
auto-checkout = *

[sources]
nti.tools.scripts = git git@github.com:NextThought/nti.tools.scripts.git branch=master egg=false

[eggs]
recipe = zc.recipe.egg
eggs =
	 ansible
	 requests
interpreter = python
dependent-scripts = true

[environment]
script_dir = ${buildout:sources-dir}/nti.tools.scripts

[process-bounce-queues-assoc-cron]
recipe = z3c.recipe.usercrontab
times = 26 7 * * *
command = ${environment:script_dir}/bin/ops/process_bounce_queue ifsta.nextthought.com

[process-bounce-queues-prod-cron]
recipe = z3c.recipe.usercrontab
times = 31 7 * * *
command = ${environment:script_dir}/bin/ops/process_bounce_queue rwi.nextthought.com

[update-webinars-prod-cron]
recipe = z3c.recipe.usercrontab
times = 10 * * * *
command = ${environment:script_dir}/bin/content/update_webinars rwi.nextthought.com
